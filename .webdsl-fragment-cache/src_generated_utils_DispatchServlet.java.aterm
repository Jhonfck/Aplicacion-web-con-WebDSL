("9.7pre4429",["src-generated/utils/DispatchServlet.java"],JavaFile(["src-generated"],CompilationUnit(Some(PackageDec([],PackageName([Id("utils")]))),[TypeImportOnDemandDec(PackageName([Id("java"),Id("io")])),TypeImportDec(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("HashMap"))),TypeImportDec(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("Map"))),TypeImportDec(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("List"))),TypeImportDec(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("LinkedList"))),TypeImportOnDemandDec(PackageName([Id("javax"),Id("servlet")])),TypeImportOnDemandDec(PackageName([Id("javax"),Id("servlet"),Id("http")])),TypeImportOnDemandDec(PackageName([Id("utils")])),TypeImportOnDemandDec(PackageName([Id("webdsl"),Id("generated"),Id("templates")])),TypeImportOnDemandDec(PackageName([Id("webdsl"),Id("generated"),Id("domain")])),TypeImportDec(TypeName(PackageOrTypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("webdsl")),Id("lang")),Id("Environment")))],[ClassDec(ClassDecHead([SingleElemAnno(TypeName(Id("SuppressWarnings")),ElemValArrayInit([Lit(String([Chars("serial")])),Lit(String([Chars("unused")]))])),Public],Id("DispatchServlet"),None,Some(SuperDec(ClassType(TypeName(Id("HttpServlet")),None))),None),ClassBody([MethodDec(MethodDecHead([Public,Static],None,Void,Id("tryLoadGlobalsAndPerformInit"),[],None),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("hibernate")),Id("Session")),None),[VarDec(Id("hibSession"),Invoke(Method(Invoke(Method(MethodName(AmbName(Id("HibernateUtilConfigured")),Id("getSessionFactory"))),[]),None,Id("getCurrentSession")),[]))])),Try(Block([ExprStm(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("beginTransaction"))),[])),ExprStm(Invoke(Method(MethodName(AmbName(Id("GlobalVariables")),Id("load"))),[])),ExprStm(Invoke(Method(MethodName(AmbName(Id("GlobalInit")),Id("load"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("commit")),[]))]),[Catch(Param([],ClassOrInterfaceType(TypeName(Id("Exception")),None),Id("se")),Block([ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Lit(String([Chars("*** Exception occured in application init. WebDSL application will not run correctly. ***")]))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("se")),Id("printStackTrace"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("rollback")),[]))]))])])),FieldDec([Private],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("Timer")),None),[VarDec(Id("timer"))]),MethodDec(MethodDecHead([Public],None,Void,Id("init"),[],None),Block([ExprStm(Invoke(Method(MethodName(Id("tryLoadGlobalsAndPerformInit"))),[])),ExprStm(Assign(ExprName(Id("timer")),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("Timer")),None),[],None))),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[VarDec(Id("timer30"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[],Some(ClassBody([MethodDec(MethodDecHead([Public],None,Void,Id("run"),[],None),Block([If(LazyAnd(ExprName(AmbName(AmbName(Id("utils")),Id("GlobalVariables")),Id("globalvarsChecked")),ExprName(AmbName(AmbName(Id("utils")),Id("GlobalInit")),Id("initChecked"))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("hibernate")),Id("Session")),None),[VarDec(Id("hibSession"),Lit(Null))])),Try(Block([ExprStm(Assign(ExprName(Id("hibSession")),Invoke(Method(Invoke(Method(MethodName(AmbName(Id("HibernateUtilConfigured")),Id("getSessionFactory"))),[]),None,Id("getCurrentSession")),[]))),ExprStm(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("beginTransaction"))),[])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("Environment")),None),[VarDec(Id("env"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("Environment")),None),[ExprName(AmbName(Id("PageServlet")),Id("staticEnv"))],None))])),If(Invoke(Method(MethodName(AmbName(Id("DispatchServlet")),Id("initGlobalVars"))),[ExprName(Id("env")),ExprName(Id("hibSession"))]),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("AbstractPageServlet")),None),[VarDec(Id("ps"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("GlobalsPageServlet")),None),[ExprName(Id("env"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ps")),Id("setHibSession"))),[ExprName(Id("hibSession"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[ExprName(Id("ps"))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[VarDec(Id("out"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[ExprName(AmbName(Id("System")),Id("out"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("push"))),[ExprName(Id("out"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("webdsl.generated.functions.internalHandleEmailQueue_")),Id("internalHandleEmailQueue_"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("commit")),[])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("popChecked"))),[ExprName(Id("out"))]))]))]),[Catch(Param([],ClassOrInterfaceType(TypeName(Id("Exception")),None),Id("ex")),Block([ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception occured while executing timed function: ")])),Lit(String([Chars("invoke internalHandleEmailQueue() every 30 seconds")])))])),ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception message: ")])),Invoke(Method(MethodName(AmbName(Id("ex")),Id("getMessage"))),[]))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ex")),Id("printStackTrace"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("rollback")),[]))]))],Block([ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[Lit(Null)]))]))]))]))]))))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("timer")),Id("scheduleAtFixedRate"))),[ExprName(Id("timer30")),Lit(Deci("0")),Plus(Mul(Lit(Deci("1000")),Lit(Deci("30"))),Lit(Deci("0")))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[VarDec(Id("timer31"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[],Some(ClassBody([MethodDec(MethodDecHead([Public],None,Void,Id("run"),[],None),Block([If(LazyAnd(ExprName(AmbName(AmbName(Id("utils")),Id("GlobalVariables")),Id("globalvarsChecked")),ExprName(AmbName(AmbName(Id("utils")),Id("GlobalInit")),Id("initChecked"))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("hibernate")),Id("Session")),None),[VarDec(Id("hibSession"),Lit(Null))])),Try(Block([ExprStm(Assign(ExprName(Id("hibSession")),Invoke(Method(Invoke(Method(MethodName(AmbName(Id("HibernateUtilConfigured")),Id("getSessionFactory"))),[]),None,Id("getCurrentSession")),[]))),ExprStm(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("beginTransaction"))),[])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("Environment")),None),[VarDec(Id("env"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("Environment")),None),[ExprName(AmbName(Id("PageServlet")),Id("staticEnv"))],None))])),If(Invoke(Method(MethodName(AmbName(Id("DispatchServlet")),Id("initGlobalVars"))),[ExprName(Id("env")),ExprName(Id("hibSession"))]),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("AbstractPageServlet")),None),[VarDec(Id("ps"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("GlobalsPageServlet")),None),[ExprName(Id("env"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ps")),Id("setHibSession"))),[ExprName(Id("hibSession"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[ExprName(Id("ps"))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[VarDec(Id("out"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[ExprName(AmbName(Id("System")),Id("out"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("push"))),[ExprName(Id("out"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("webdsl.generated.functions.renewFacetIndexReaders_")),Id("renewFacetIndexReaders_"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("commit")),[])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("popChecked"))),[ExprName(Id("out"))]))]))]),[Catch(Param([],ClassOrInterfaceType(TypeName(Id("Exception")),None),Id("ex")),Block([ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception occured while executing timed function: ")])),Lit(String([Chars("invoke renewFacetIndexReaders() every 60 minutes")])))])),ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception message: ")])),Invoke(Method(MethodName(AmbName(Id("ex")),Id("getMessage"))),[]))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ex")),Id("printStackTrace"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("rollback")),[]))]))],Block([ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[Lit(Null)]))]))]))]))]))))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("timer")),Id("scheduleAtFixedRate"))),[ExprName(Id("timer31")),Lit(Deci("0")),Plus(Mul(Mul(Lit(Deci("60")),Lit(Deci("1000"))),Lit(Deci("60"))),Lit(Deci("0")))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[VarDec(Id("timer32"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[],Some(ClassBody([MethodDec(MethodDecHead([Public],None,Void,Id("run"),[],None),Block([If(LazyAnd(ExprName(AmbName(AmbName(Id("utils")),Id("GlobalVariables")),Id("globalvarsChecked")),ExprName(AmbName(AmbName(Id("utils")),Id("GlobalInit")),Id("initChecked"))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("hibernate")),Id("Session")),None),[VarDec(Id("hibSession"),Lit(Null))])),Try(Block([ExprStm(Assign(ExprName(Id("hibSession")),Invoke(Method(Invoke(Method(MethodName(AmbName(Id("HibernateUtilConfigured")),Id("getSessionFactory"))),[]),None,Id("getCurrentSession")),[]))),ExprStm(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("beginTransaction"))),[])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("Environment")),None),[VarDec(Id("env"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("Environment")),None),[ExprName(AmbName(Id("PageServlet")),Id("staticEnv"))],None))])),If(Invoke(Method(MethodName(AmbName(Id("DispatchServlet")),Id("initGlobalVars"))),[ExprName(Id("env")),ExprName(Id("hibSession"))]),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("AbstractPageServlet")),None),[VarDec(Id("ps"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("GlobalsPageServlet")),None),[ExprName(Id("env"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ps")),Id("setHibSession"))),[ExprName(Id("hibSession"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[ExprName(Id("ps"))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[VarDec(Id("out"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[ExprName(AmbName(Id("System")),Id("out"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("push"))),[ExprName(Id("out"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("webdsl.generated.functions.updateSuggestionIndex_")),Id("updateSuggestionIndex_"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("commit")),[])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("popChecked"))),[ExprName(Id("out"))]))]))]),[Catch(Param([],ClassOrInterfaceType(TypeName(Id("Exception")),None),Id("ex")),Block([ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception occured while executing timed function: ")])),Lit(String([Chars("invoke updateSuggestionIndex() every 12 hours")])))])),ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception message: ")])),Invoke(Method(MethodName(AmbName(Id("ex")),Id("getMessage"))),[]))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ex")),Id("printStackTrace"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("rollback")),[]))]))],Block([ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[Lit(Null)]))]))]))]))]))))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("timer")),Id("scheduleAtFixedRate"))),[ExprName(Id("timer32")),Lit(Deci("0")),Plus(Mul(Mul(Mul(Lit(Deci("60")),Lit(Deci("60"))),Lit(Deci("1000"))),Lit(Deci("12"))),Lit(Deci("0")))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[VarDec(Id("timer33"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[],Some(ClassBody([MethodDec(MethodDecHead([Public],None,Void,Id("run"),[],None),Block([If(LazyAnd(ExprName(AmbName(AmbName(Id("utils")),Id("GlobalVariables")),Id("globalvarsChecked")),ExprName(AmbName(AmbName(Id("utils")),Id("GlobalInit")),Id("initChecked"))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("hibernate")),Id("Session")),None),[VarDec(Id("hibSession"),Lit(Null))])),Try(Block([ExprStm(Assign(ExprName(Id("hibSession")),Invoke(Method(Invoke(Method(MethodName(AmbName(Id("HibernateUtilConfigured")),Id("getSessionFactory"))),[]),None,Id("getCurrentSession")),[]))),ExprStm(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("beginTransaction"))),[])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("Environment")),None),[VarDec(Id("env"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("Environment")),None),[ExprName(AmbName(Id("PageServlet")),Id("staticEnv"))],None))])),If(Invoke(Method(MethodName(AmbName(Id("DispatchServlet")),Id("initGlobalVars"))),[ExprName(Id("env")),ExprName(Id("hibSession"))]),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("AbstractPageServlet")),None),[VarDec(Id("ps"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("GlobalsPageServlet")),None),[ExprName(Id("env"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ps")),Id("setHibSession"))),[ExprName(Id("hibSession"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[ExprName(Id("ps"))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[VarDec(Id("out"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[ExprName(AmbName(Id("System")),Id("out"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("push"))),[ExprName(Id("out"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("webdsl.generated.functions.optimizeSearchIndex_")),Id("optimizeSearchIndex_"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("commit")),[])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("popChecked"))),[ExprName(Id("out"))]))]))]),[Catch(Param([],ClassOrInterfaceType(TypeName(Id("Exception")),None),Id("ex")),Block([ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception occured while executing timed function: ")])),Lit(String([Chars("invoke optimizeSearchIndex() every 12 hours")])))])),ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception message: ")])),Invoke(Method(MethodName(AmbName(Id("ex")),Id("getMessage"))),[]))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ex")),Id("printStackTrace"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("rollback")),[]))]))],Block([ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[Lit(Null)]))]))]))]))]))))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("timer")),Id("scheduleAtFixedRate"))),[ExprName(Id("timer33")),Lit(Deci("0")),Plus(Mul(Mul(Mul(Lit(Deci("60")),Lit(Deci("60"))),Lit(Deci("1000"))),Lit(Deci("12"))),Lit(Deci("0")))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[VarDec(Id("timer34"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("util")),Id("TimerTask")),None),[],Some(ClassBody([MethodDec(MethodDecHead([Public],None,Void,Id("run"),[],None),Block([If(LazyAnd(ExprName(AmbName(AmbName(Id("utils")),Id("GlobalVariables")),Id("globalvarsChecked")),ExprName(AmbName(AmbName(Id("utils")),Id("GlobalInit")),Id("initChecked"))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("hibernate")),Id("Session")),None),[VarDec(Id("hibSession"),Lit(Null))])),Try(Block([ExprStm(Assign(ExprName(Id("hibSession")),Invoke(Method(Invoke(Method(MethodName(AmbName(Id("HibernateUtilConfigured")),Id("getSessionFactory"))),[]),None,Id("getCurrentSession")),[]))),ExprStm(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("beginTransaction"))),[])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("Environment")),None),[VarDec(Id("env"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("Environment")),None),[ExprName(AmbName(Id("PageServlet")),Id("staticEnv"))],None))])),If(Invoke(Method(MethodName(AmbName(Id("DispatchServlet")),Id("initGlobalVars"))),[ExprName(Id("env")),ExprName(Id("hibSession"))]),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("AbstractPageServlet")),None),[VarDec(Id("ps"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("GlobalsPageServlet")),None),[ExprName(Id("env"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ps")),Id("setHibSession"))),[ExprName(Id("hibSession"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[ExprName(Id("ps"))])),LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[VarDec(Id("out"),NewInstance(None,ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("java")),Id("io")),Id("PrintWriter")),None),[ExprName(AmbName(Id("System")),Id("out"))],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("push"))),[ExprName(Id("out"))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("webdsl.generated.functions.internalCleanupSessionManagerEntities_")),Id("internalCleanupSessionManagerEntities_"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("commit")),[])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalOut")),Id("popChecked"))),[ExprName(Id("out"))]))]))]),[Catch(Param([],ClassOrInterfaceType(TypeName(Id("Exception")),None),Id("ex")),Block([ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception occured while executing timed function: ")])),Lit(String([Chars("invoke internalCleanupSessionManagerEntities() every 10 minutes")])))])),ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Plus(Lit(String([Chars("exception message: ")])),Invoke(Method(MethodName(AmbName(Id("ex")),Id("getMessage"))),[]))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("ex")),Id("printStackTrace"))),[])),ExprStm(Invoke(Method(Invoke(Method(MethodName(AmbName(Id("hibSession")),Id("getTransaction"))),[]),None,Id("rollback")),[]))]))],Block([ExprStm(Invoke(Method(MethodName(AmbName(Id("ThreadLocalPage")),Id("set"))),[Lit(Null)]))]))]))]))]))))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("timer")),Id("scheduleAtFixedRate"))),[ExprName(Id("timer34")),Lit(Deci("0")),Plus(Mul(Mul(Lit(Deci("60")),Lit(Deci("1000"))),Lit(Deci("10"))),Lit(Deci("0")))]))])),MethodDec(MethodDecHead([Public],None,Void,Id("destroy"),[],None),Block([ExprStm(Invoke(Method(MethodName(AmbName(Id("timer")),Id("cancel"))),[]))])),MethodDec(MethodDecHead([Public],None,Void,Id("doPost"),[Param([],ClassOrInterfaceType(TypeName(Id("HttpServletRequest")),None),Id("request")),Param([],ClassOrInterfaceType(TypeName(Id("HttpServletResponse")),None),Id("response"))],Some(ThrowsDec([ClassType(TypeName(Id("IOException")),None),ClassType(TypeName(Id("ServletException")),None)]))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("DispatchServletHelper")),None),[VarDec(Id("d"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("DispatchServletHelper")),None),[This,Lit(Bool(True)),Invoke(Method(Invoke(Method(Invoke(Method(MethodName(Id("getServletConfig"))),[]),None,Id("getServletContext")),[]),None,Id("getContextPath")),[])],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("d")),Id("doServe"))),[ExprName(Id("request")),ExprName(Id("response"))]))])),MethodDec(MethodDecHead([Public],None,Void,Id("doGet"),[Param([],ClassOrInterfaceType(TypeName(Id("HttpServletRequest")),None),Id("request")),Param([],ClassOrInterfaceType(TypeName(Id("HttpServletResponse")),None),Id("response"))],Some(ThrowsDec([ClassType(TypeName(Id("IOException")),None),ClassType(TypeName(Id("ServletException")),None)]))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("DispatchServletHelper")),None),[VarDec(Id("d"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("DispatchServletHelper")),None),[This,Lit(Bool(False)),Invoke(Method(Invoke(Method(Invoke(Method(MethodName(Id("getServletConfig"))),[]),None,Id("getServletContext")),[]),None,Id("getContextPath")),[])],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("d")),Id("doServe"))),[ExprName(Id("request")),ExprName(Id("response"))]))])),MethodDec(MethodDecHead([Public],None,Void,Id("doPut"),[Param([],ClassOrInterfaceType(TypeName(Id("HttpServletRequest")),None),Id("request")),Param([],ClassOrInterfaceType(TypeName(Id("HttpServletResponse")),None),Id("response"))],Some(ThrowsDec([ClassType(TypeName(Id("IOException")),None),ClassType(TypeName(Id("ServletException")),None)]))),Block([LocalVarDecStm(LocalVarDec([],ClassOrInterfaceType(TypeName(Id("DispatchServletHelper")),None),[VarDec(Id("d"),NewInstance(None,ClassOrInterfaceType(TypeName(Id("DispatchServletHelper")),None),[This,Lit(Bool(False)),Invoke(Method(Invoke(Method(Invoke(Method(MethodName(Id("getServletConfig"))),[]),None,Id("getServletContext")),[]),None,Id("getContextPath")),[])],None))])),ExprStm(Invoke(Method(MethodName(AmbName(Id("d")),Id("doServe"))),[ExprName(Id("request")),ExprName(Id("response"))]))])),MethodDec(MethodDecHead([Public,Static],None,Boolean,Id("initGlobalVars"),[Param([],ClassOrInterfaceType(TypeName(Id("Environment")),None),Id("env")),Param([],ClassOrInterfaceType(TypeName(PackageOrTypeName(PackageOrTypeName(Id("org")),Id("hibernate")),Id("Session")),None),Id("hibSession"))],None),Block([Return(Some(Lit(Bool(True))))]))]))])))